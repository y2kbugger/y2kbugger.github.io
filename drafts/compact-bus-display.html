<!DOCTYPE html>
<html lang="en">
<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>A Compact LED 8-bit Bus Indicator - y2kbugger</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/theme/css/normalize.css">
        <link rel="stylesheet" href="/theme/css/styles.css">
        <link rel="stylesheet" href="/theme/css/pygment.css">
        
<link rel="icon" href="/favicon.ico" sizes="16x16 32x32 48x48 64x64" type="image/vnd.microsoft.icon">




        <meta name="tags" contents="retrocomputing"/>
        <meta name="tags" contents="display"/>
        <meta name="tags" contents="resistor-network"/>
        <meta name="tags" contents="z80"/>
</head>

<body>

<div id="wrapper">

    <nav>
        <ul id="menu">
                <li><a href="/index.html">y2kbugger</a>
                </li>
                <li><a href="/tags.html">Tags</a>
                </li>
                        <li class="active"><a
                                href="http://blog.y2kbugger.com/category/electronics.html">electronics</a></li>
                        <li><a
                                href="http://blog.y2kbugger.com/category/food.html">food</a></li>
                        <li><a
                                href="http://blog.y2kbugger.com/category/programming.html">programming</a></li>
                        <li><a
                                href="http://blog.y2kbugger.com/category/talks.html">talks</a></li>
        </ul>
    </nav>

    <header class="page-header">
    <h1>A Compact LED 8-bit Bus Indicator</h1>

    <div class="article-meta">
                <span class="author">By zak kohler</span>
        <span class="publication-date" title="2017-12-19T20:58:08-05:00"> on 2017.12.19 @ 20:58</span>


            <div class="tags">
                Tagged:
                    <a href="http://blog.y2kbugger.com/tag/retrocomputing.html">retrocomputing</a>,                    <a href="http://blog.y2kbugger.com/tag/display.html">display</a>,                    <a href="http://blog.y2kbugger.com/tag/resistor-network.html">resistor-network</a>,                    <a href="http://blog.y2kbugger.com/tag/z80.html">z80</a>            </div>
    </div>

    </header>

    <main class="content">
    <div class="article-content">
        <!-- Google Photos Album: https://photos.app.goo.gl/XnXEAZp8C6Nqg5zJ3 -->
<div class="section" id="blinkenlights-in-binary-and-hex">
<h2>Blinkenlights in Binary and Hex</h2>
<p>I will walk through my experimentation that lead to my final design for my front panel bus visualizer.</p>
</div>
<div class="section" id="motivation">
<h2>Motivation</h2>
<p>This is made as a component of my single board Z80 trainer. Defining my Single Board Computer (SBC) as a trainer basically means that its purpose it expose as much implementation as possible to the user. This means entering machine code by hand into memory, stopping the clock and directly examining memory. This can be done either mostly in software, or mostly in hardware. If you really want to bootstrap yourself from bare metal then it helps to build some of this monitor functionality into the hardware.</p>
<img alt="altair" class="align-center" src="https://lh3.googleusercontent.com/pw/ACtC-3c0ghd2mox_6hFrde8tAXjk7DmhvGc71toNKh900qnj-BGMrMak8hZIL-LTVTdHAnEpbCeGC6tg72ETeG5O_yvcOw711jkv_MOECR1ghJIHX8-UBPcf0WgHlSIDumMk3i1R7e-_tDzwGP2CDNyK-RvCLw=w640-h273-no" style="width: 100%;" />
<p>When you have to type your bootstrap and paper tape driver by hand, <a class="reference external" href="https://www.youtube.com/watch?v=5zbtNImG2NE">it can be a magical experience</a>.</p>
</div>
<div class="section" id="simple-prototype">
<h2>Simple Prototype</h2>
<p>My SBC trainer will be based on the z80, having an 8-bit databus and a 16-bit memory address space. First step was to get the up and running and verify that the program counter was working. This can basically be done with resistors and power and a single LED. I got a lot of inspiration from <a class="reference external" href="https://www.youtube.com/watch?v=AZb4NLXx1aMchip">this video</a>.</p>
<p>I wanted a simple way to see that things were happening on the data and address
bus.</p>
<p>First attempt was just hooking up simply hooking up LEDs directly. I wanted to make something compact that could be put into a breadboard to peek at the signals on a certain bus. I fell in love with the way the LEDs, resistor network, and header went togethers.</p>
<img alt="first 8 bit display prototype" class="align-center" src="https://lh3.googleusercontent.com/pw/ACtC-3dy7Eit3PbmaET6c6RsvxJtBAN3B4c14yo7qbImlrWUBt9yPcNIiw6sbGSteRL0b3DI9h51ugACrEwIm6x4eLPJNslq_RJj4ZWvpWGTe8rhIFcsnakEeJhLvKCTeq1RfZGN5K2UA81C0XTfE-k_5Vj3Gg=w405-h678-no" style="width: 70%;" />
<p>But alas, this design had a problem.</p>
<p>I was getting some weird results so I though I just needed to tweak the resistance. If you draw too much current, you might influence the levels you are trying to display. This would interfere with the operation of the Z80. Is it possible to have a low enough current that I don't need to buffer when I am on the data bus for instance? My CMOS Z80 can output one TTL load, so yes, but because it is active high but open collector you cannot source enough current in the &quot;On&quot; state.  Because of the resistor network multiple LEDs can be turned on inadvertently.</p>
</div>
<div class="section" id="buffers">
<h2>Buffers</h2>
<p>In order to overcome the issue of sourcing current, and lighting leds though others, we can use a buffer. This repeats and optionally inverts a bus of signals.</p>
<p>Here is the first prototype after realizing I really would need the buffer.</p>
<img alt="8 bit display" class="align-center" src="https://lh3.googleusercontent.com/pw/ACtC-3fCsSxakX4v-i5FCPm6vPRPEihtgqh8RpKpm1WuWQ5-h8Bp90ppqkQuCbi0IrAuOBX9LJmMCpq-YQP7Oen_cojJzra6_5WGsbq8lr4UIJz5oYpuVbG9QH3msjh4FqVyVTq4XJYbRdBX6GXYwJSPPjj3uQ=w521-h385-no" style="width: 100%;" />
<p>Then I incorporated this along with a hexadecimal display.</p>
</div>

    </div>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'blog-y2kbugger'; // required: replace example with your forum shortname
        var disqus_identifier = 'drafts/compact-bus-display.html';
        var disqus_url = 'http://blog.y2kbugger.com/drafts/compact-bus-display.html';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </main>

    <footer class="page-footer">
            zak kohler 2020 &mdash; Happy Hacking
    </footer>

</div>
</body>

<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

 -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-111274102-1', 'auto');
  ga('send', 'pageview');
</script>

</html>