<!DOCTYPE html>
<html lang="en">
<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>MMIX - Working on TAOCP in RISC - blog.y2kbugger.com</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/theme/css/normalize.css">
        <link rel="stylesheet" href="/theme/css/styles.css">
        <link rel="stylesheet" href="/theme/css/pygment.css">
        
<link rel="icon" href="/favicon.ico" sizes="16x16 32x32 48x48 64x64" type="image/vnd.microsoft.icon">




        <meta name="tags" contents="assembly"/>
        <meta name="tags" contents="algorithms"/>
        <meta name="tags" contents="MMIX"/>
        <meta name="tags" contents="TAOCP"/>
        <meta name="tags" contents="books"/>
</head>

<body>

<div id="wrapper">

    <nav>
        <ul id="menu">
                <li><a href="/index.html">blog.y2kbugger.com</a>
                </li>
                <li><a href="/tags.html">Tags</a>
                </li>
                        <li><a
                                href="http://blog.y2kbugger.com/category/electronics.html">electronics</a></li>
                        <li><a
                                href="http://blog.y2kbugger.com/category/food.html">food</a></li>
                        <li class="active"><a
                                href="http://blog.y2kbugger.com/category/programming.html">programming</a></li>
                        <li><a
                                href="http://blog.y2kbugger.com/category/talks.html">talks</a></li>
        </ul>
    </nav>
    <div class="social-container">
        Find me on:
        <ul>
            <li class="social-item social-twitter"><a href="https://twitter.com/y2kbugger">Twitter @y2kbugger</a></li>
            <li class="social-item social-github"><a href="https://github.com/y2kbugger">GitHub</a></li>
            <li class="social-item social-linkedin"><a href="http://zakkohler.com">LinkedIn</a></li>
        </ul>
    </div>

    <header class="page-header">
    <h1>MMIX - Working on TAOCP in RISC</h1>

    <div class="article-meta">
                <span class="author">By zak kohler</span>
        <span class="publication-date" title="2018-12-27T00:00:00-05:00"> on 2018.12.27</span>
        <span class="modification-date" title="2020-05-29T15:18:21-04:00"> last modified on 2020.05.29 @ 15:18</span>


            <div class="tags">
                Tagged:
                    <a href="http://blog.y2kbugger.com/tag/assembly.html">assembly</a>,                    <a href="http://blog.y2kbugger.com/tag/algorithms.html">algorithms</a>,                    <a href="http://blog.y2kbugger.com/tag/mmix.html">MMIX</a>,                    <a href="http://blog.y2kbugger.com/tag/taocp.html">TAOCP</a>,                    <a href="http://blog.y2kbugger.com/tag/books.html">books</a>            </div>
    </div>

    </header>

    <main class="content">
    <div class="article-content">
        <!-- Google Photos Album: https://photos.app.goo.gl/dfXck6rcLDcZHtv17 -->
<div class="section" id="introduction">
<h2>Introduction</h2>
<p>This article I will cover why I want to read TAOCP as well as my approach. Because the books are in various states of publication, one must use additional resources besides the book to enjoy the updated RISC material.</p>
</div>
<div class="section" id="the-art-of-computer-programming">
<h2>The Art Of Computer Programming</h2>
<p>The Art of Computer Programming is a legendary multi-volume computer science textbook. It was originally conceived in 1962 as a 12 chapter book documenting a wide range of algorithms. The rapid pace of change in computer science made these chapters a moving target; while Volume 1 was released in 1968, Volume 4 is still in progress as of 2020 <a class="footnote-reference" href="#taocpwiki" id="id1">[1]</a>.</p>
<img alt="The Art of Computer Programming" class="align-center" src="https://lh3.googleusercontent.com/pw/ACtC-3fz2RxP2aYWm20KIl9hU_BkQcyTNxSmewF-0TM7KLe2BbVwUsml4DmX7kgHf4E8vARaOSQFJ-d1zou3FMoD4hjaX8q3jSFcKZwty559C8BiomechHmEW7gwmIBd8kJvi0u4Zqx0I6UDlA65QuBUX_CEdQ=w500-h431-no" style="width: 33%;" />
<p>The book is notable for being comprehensive and precise as well as for the extreme care given to the exercises and solutions. Because it's known for being a huge undertaking, some people quip that the book is often recommended without actually having been read. I suspect this is because the algorithms are explained using assembly language rather than structured programming which some people deem as impenetrably  obscure.</p>
<div class="section" id="why-i-want-to-read-it">
<h3>Why I want to read it</h3>
<p>I believe it when Knuth says that you learn something extra about algorithms at the interface of hardware and software. In C for example you may not know what is happening in hardware when you write an if statement, but in assembly this is in-your-face.</p>
<p>He puts it like this:</p>
<blockquote>
One of the principal goals of my books is to show how high-level constructions are actually implemented in machines, not simply to show how they are applied. <a class="footnote-reference" href="#knuthmmix" id="id2">[3]</a></blockquote>
<p>This aligns with my goal of exploring computers to the lowest levels including operating systems as well as CPUs. The more I can understand the software-hardware interface, the happier I will be. Learning algorithms via TAOCP is the software side of my strategy. On the hardware side I'm exploring TTL logic, CPU design, and simple cases of systems integration using vintage microprocessors such as z80, 6502 and 1802. This has also led me to explore prototyping via FPGAs and one day I hope to design a CPU core and bootstrap up to a self-hosting multitasking development environment.</p>
</div>
</div>
<div class="section" id="mix">
<h2>MIX</h2>
<p>In order to facilitate the teaching of algorithms and how they interact with hardware, Knuth developed a CPU architecture and corresponding assembly language.</p>
<blockquote>
<p>MIX is a hypothetical computer used in Donald Knuth's monograph, The Art of
Computer Programming (TAOCP). MIX's model number is 1009, which was derived
by combining the model numbers and names of several contemporaneous,
commercial machines deemed significant by the author. Also, &quot;MIX&quot; read as a
Roman numeral is 1009.</p>
<p class="attribution">&mdash;Wikipedia <a class="footnote-reference" href="#mixwiki" id="id3">[2]</a></p>
</blockquote>
<p>Knuth states that &quot;MIX is very much like nearly every computer of the 1960s and 1970s except that it is, perhaps, nicer.&quot;</p>
</div>
<div class="section" id="mmix">
<h2>MMIX</h2>
<img alt="MMIX" src="https://lh3.googleusercontent.com/pw/ACtC-3cmwaXo3THz54nq3bz9bWJ9N3hK5zfHL9o4JAsdri5mZ7AgP4LPpilaSkxatNxccRDbxKgZ65jDB08Akq1UMV1nGGqktUrq8uXJFhs9ODgtUQ1wT6SAapWlK5zTWLP-tliFKDBuARvEVYmHnRilf89CsQ=w572-h85-no" />
<p>Computer have changed significantly since the 60s, as Knuth explains:</p>
<blockquote>
Thirty years have passed since the MIX computer was designed, and computer architecture has been converging during those years towards a rather different style of machine <a class="footnote-reference" href="#knuthmmix" id="id4">[3]</a>.</blockquote>
<img alt="Under Construction" src="https://lh3.googleusercontent.com/pw/ACtC-3fRUt39VqJiEOQ9LhFcwVrsuth55pRA44lyfN51vxoNG0v0DshXSPqc5SdCtLdAnCWPOfLaP-KS5iDdApF0YKfAM8SBZmgyI61tLobpe8lVmxjGyNFkdrOpxaOD4cpvrJddWkV7lvJAUvmMONAoJF6dtg=w683-h131-no" />
<p>In Volume 1 3rd Edition, he states his plans to replace MIX:</p>
<blockquote>
However, it must be admitted that MIX is now quite obsolete. Therefore MIX will be replaced in subsequent editions of this book by a new machine called MMIX, the 2009. MMIX will be a so-called reduced instruction set computer (RISC). [...] It will be even nicer than MIX and will be similar to machines that have become dominant during the 1990s.</blockquote>
</div>
<div class="section" id="subsequent-editions-fascicles">
<h2>Subsequent editions, fascicles</h2>
<p>So we've chosen to explore MMIX, the forward looking ISA of TAOCP, now what? The dilemma we face is that the next edition has not been released yet. The most recent edition, V1 3e, has all of the questions and answers still written with MIX.</p>
<img alt="The three required books for MMIX" class="align-center" src="https://lh3.googleusercontent.com/pw/ACtC-3cuRVuJCUSUugDBBPjEjvV-g4h9rh4NuHipmWhjvJbgS3zKZGBYrkea6kFi6MYL6-gC-mmhqHvCIB6FMcG6fHf_wzLQ3FSggliRMHXReoaJXcB4XEkEYYUFVJ-tzUwnb0Htv9v26hcMSSMf6vrfC46HXQ=w683-h459-no" />
<p>So what choice do we have then? Well Donald has kindly release what is known as V1F1 or <em>The Art of Computer Programming, Volume 1, Fasicle 1 -- A RISC Computer for the New Millennium</em>. A fascicle is a &quot;a separately published installment of a book or other printed work.&quot; Basically it acts as a patch for V1 3e. Replacing the chapter explaining MIX with the MMIX equivalent. It is available on <a class="reference external" href="https://https://www.amazon.com/Art-Computer-Programming-Fascicle-Millennium/dp/0201853922/">Amazon</a>. Fun note, these are printed on demand when you place your order.</p>
<div class="figure align-right">
<img alt="On demand printing" src="https://lh3.googleusercontent.com/pw/ACtC-3dsG1EowkXAZFHTN5U6GoiV7aHLiLZj4qS4T-LL4_G7bSkTLQFbru0xIrfOSHiVYxg3UDcSqjI3_DC0HQvAiMNwwaaUBNkcFkEqL0Zx5m11fvY5ctohhCmg8e60Y_SAX8k1jyvou9g_R2JqBcRycjhmbg=w509-h678-no" style="width: 66%;" />
<p class="caption">Printed the day after I ordered on Amazon.</p>
</div>
<p>That covers the basics of the language, but all of the solutions also needed reworked. Knuth put out a request for people to collaborate on the solutions, a project he called MMIXMasters <a class="footnote-reference" href="#mmixmasters" id="id5">[4]</a>. The end result of this is known as the MMIX supplement. It's available on the web, <a class="reference external" href="http://mmix.cs.hm.edu/supplement/index.html">http://mmix.cs.hm.edu/supplement/index.html</a> as well as in printed form on Amazon: <a class="reference external" href="https://www.amazon.com/MMIX-Supplement-Computer-Programming-Volumes/dp/0133992314">MMIX Supplement</a>.</p>
</div>
<div class="section" id="future-work">
<h2>Future Work</h2>
<p>I'm excited to keep working through these exercises. To assist the process of testing various algorithms, I've started a side-project which I have compiled Knuth's original MMIX toolchain to WASM and wrapped it in a simple IDE for MMIX in the browser.</p>
</div>
<div class="section" id="hardware-and-risc-v">
<h2>Hardware and RISC-V</h2>
<p>I plan to continue working on the hardware side in tandem as well. I dream of the day I could write some of these algorithms for an FPGA RISC-V CPU or even more exciting, a toy ISA of my own.</p>
<table class="docutils footnote" frame="void" id="taocpwiki" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming">https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="mixwiki" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td><a class="reference external" href="https://en.wikipedia.org/wiki/MIX">https://en.wikipedia.org/wiki/MIX</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="knuthmmix" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[3]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id4">2</a>)</em> <a class="reference external" href="https://www-cs-faculty.stanford.edu/~knuth/mmix.html">https://www-cs-faculty.stanford.edu/~knuth/mmix.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="mmixmasters" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[4]</a></td><td><a class="reference external" href="http://mmix.cs.hm.edu/mmixmasters/index.html">http://mmix.cs.hm.edu/mmixmasters/index.html</a></td></tr>
</tbody>
</table>
</div>

    </div>

    <script src="https://utteranc.es/client.js"
            repo="y2kbugger/y2kbugger.github.io"
            issue-term="pathname"
            label="utterances"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    </main>


    <footer class="page-footer">
        <div class="social-container">
            <ul>
                <li class="social-item">Find me on:</li>
                <li class="social-item social-twitter"><a href="https://twitter.com/y2kbugger">Twitter @y2kbugger</a></li>
                <li class="social-item social-github"><a href="https://github.com/y2kbugger">GitHub</a></li>
                <li class="social-item social-linkedin"><a href="http://zakkohler.com">LinkedIn</a></li>
            </ul>
        </div>
            zak kohler 2020 &mdash; Happy Hacking
    </footer>

</div>
</body>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-111274102-1', 'auto');
  ga('send', 'pageview');
</script>

</html>